import{d as a,r as s,c as e,P as l,a9 as t,b as u,i as r,f as n,w as c,g as i,h as d,e as o,F as f,j as p,x as v,t as m,v as h,A as _,l as g,p as O,z as b,k as L,Y as y,_ as C}from"./index-bd0a08d3.js";import{s as I}from"./index.03574bd1.js";import{a as w,b as k}from"./uni-app.es.90b7652b.js";const x=C(a({__name:"project-cardtonumber",setup(a){let C=null,x=null;const j=s([]),E=s(0),T=s(!1),V=s("success"),F=s(10),N=s(""),S=s(0),J=e((()=>j.value[E.value]));function R(){F.value=10,N.value="",S.value=0,C=setInterval((()=>{if(0===F.value)return clearInterval(C),clearInterval(x),void(x=setInterval((()=>{S.value+=1;const a=parseInt(""+S.value/3600),s=parseInt(""+S.value/60%60),e=parseInt(""+S.value%60);let l=A(a)+" : "+A(s)+" : "+A(e);N.value=l}),1e3/60));F.value-=1}),1e3)}function U(){if(J.value.shuffleCardOptionsList.filter((a=>null!==a.answer)).length===J.value.shuffleCardOptionsList.length){const a=J.value.shuffleCardOptionsList.filter((a=>a.answer==a.isRight)).length;T.value=!0,a===J.value.shuffleCardOptionsList.length?(V.value="success",uni.audioTipsSuccess.play()):(V.value="error",uni.audioTipsError.play()),z()}}function z(){clearInterval(x),x=null}function A(a){return a<10?"0"+a:""+a}function B(){E.value<j.value.length-1?(E.value+=1,T.value=!1):(h({title:"恭喜您，已全部完成~"}),setTimeout((()=>{_({url:"/pages/game-pass/game-pass"})}),1e3))}function D(){T.value=!1,J.value.shuffleCardOptionsList.forEach((a=>{a.answer=null})),R()}return l((()=>E.value),(a=>{a&&R()})),w((a=>{var s;s=a.id,t(s).then((a=>{console.log(27,a),200==a.code&&(j.value=a.data,j.value.forEach((a=>{const s=JSON.parse(JSON.stringify(a.cardOptionsList));a.shuffleCardOptionsList=I(s),a.shuffleCardOptionsList.forEach((a=>{a.answer=null}))})),R())}))})),k((()=>{C=null,clearInterval(C),z()})),(a,s)=>{const e=g,l=L,t=y,h=O("TipsDesign");return u(),r(f,null,[n(e,{class:"box"},{default:c((()=>[n(e,{class:"card"},{default:c((()=>[n(e,{class:"card-title"},{default:c((()=>[i(" 请记住卡片对应的数字，倒计时结束后请填写对应卡片数字 ")])),_:1}),d(J)&&d(J).cardOptionsList&&d(J).cardOptionsList.length?(u(),o(e,{key:0,class:"card-top"},{default:c((()=>[F.value>0?(u(!0),r(f,{key:0},p(d(J).cardOptionsList,(a=>(u(),o(e,{class:b(["card-top-item",d(J).cardOptionsList]),key:a.id},{default:c((()=>[n(l,{class:"card-img",src:a.substance,mode:"aspectFit"},null,8,["src"]),n(e,{class:"card-number"},{default:c((()=>[i(m(a.isRight),1)])),_:2},1024)])),_:2},1032,["class"])))),128)):(u(!0),r(f,{key:1},p(d(J).shuffleCardOptionsList,(a=>(u(),o(e,{class:b(["card-top-item",d(J).shuffleCardOptionsList]),key:a.id},{default:c((()=>[n(l,{class:"card-img",src:a.substance,mode:"aspectFit"},null,8,["src"]),n(e,{class:"card-input"},{default:c((()=>[n(t,{type:"number",onBlur:U,modelValue:a.answer,"onUpdate:modelValue":s=>a.answer=s,placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1032,["class"])))),128))])),_:1})):v("",!0),n(e,{class:"card-btm"},{default:c((()=>[n(e,{class:"card-btm-left"},{default:c((()=>[i(" 第"+m(E.value+1)+"题 ",1)])),_:1}),n(e,{class:"card-btm-center"},{default:c((()=>[i(m(F.value>0?F.value:N.value),1)])),_:1}),n(e,{class:"card-btm-right"},{default:c((()=>[i(" 共"+m(j.value.length)+"题 ",1)])),_:1})])),_:1})])),_:1})])),_:1}),n(h,{type:V.value,show:T.value,onNext:B},{default:c((()=>[n(e,{class:"cardtips"},{default:c((()=>[n(e,{class:"cardtips-time"},{default:c((()=>[i(" 用时："+m(N.value),1)])),_:1}),n(e,{class:"cardtips-btn",onClick:D},{default:c((()=>[i(" 再来一次 ")])),_:1})])),_:1})])),_:1},8,["type","show"])],64)}}}),[["__scopeId","data-v-6b1f6828"]]);export{x as default};
