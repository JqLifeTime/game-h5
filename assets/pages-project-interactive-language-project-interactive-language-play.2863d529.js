import{d as e,r as a,Z as l,v as t,A as s,b as u,e as n,w as v,f as i,g as c,t as r,i as o,j as d,F as m,x as f,l as _,k as p,m as g,_ as b}from"./index-dca1e3db.js";import{_ as k,a as j}from"./next.2ad967e6.js";import{g as x}from"./index.03574bd1.js";import{a as y,b as I}from"./uni-app.es.952829a2.js";const T=b(e({__name:"project-interactive-language-play",setup(e){let b=null,T=null,h=null;const C=a([]),F=a(null),O=a(null),w=a(1),A=a(10),E=a(!1),G=a(5),H=a(10),J=a(["这是哪里？","图片上是哪里？","你看到的是哪里？"]);function L(){O.value=x(C.value),F.value=x(O.value.cardOptionsList),N()}function N(){U(),G.value=5,H.value=10,E.value=!1,h=setTimeout((()=>{E.value=!0,b=setInterval((()=>{if(G.value<=0)return U(),void(T=setInterval((()=>{if(H.value<=0)return U(),void S();H.value--}),1e3));G.value--}),1e3)}),3e3)}function S(){U(),w.value<A.value?(w.value+=1,L()):(console.log(w.value,A.value),t({title:"恭喜您全部完成~"}),setTimeout((()=>{s({url:"/pages/game-pass/game-pass"})}),1e3))}function U(){clearInterval(b),b=null,clearInterval(T),T=null,clearTimeout(h),h=null}return y((e=>{var a;a=JSON.parse(e.ids),l(a).then((e=>{console.log(e),200==e.code&&(C.value=e.data,L())}))})),I((()=>{console.log("onUnload"),U()})),(e,a)=>{const l=_,t=p,s=g;return u(),n(l,{class:"box"},{default:v((()=>[i(l,{class:"interactive"},{default:v((()=>[i(l,{class:"interactive-title"},{default:v((()=>[c(r(J.value[w.value%3]),1)])),_:1}),F.value?(u(),n(l,{key:0,class:"interactive-img"},{default:v((()=>[(u(),o(m,null,d(3,(e=>i(l,{class:"interactive-img-item",key:e},{default:v((()=>[i(t,{src:F.value.substance,mode:"aspectFit"},null,8,["src"])])),_:2},1024))),64))])),_:1})):f("",!0),i(l,{class:"interactive-num"},{default:v((()=>[c(" 第"+r(w.value)+"题，共"+r(A.value)+"题 ",1)])),_:1}),i(l,{class:"interactive-btm"},{default:v((()=>[E.value&&G.value<=0?(u(),n(l,{key:0,class:"interactive-btm-left",onClick:N},{default:v((()=>[i(t,{src:k,mode:""}),i(s,null,{default:v((()=>[c("重播")])),_:1})])),_:1})):f("",!0),E.value?(u(),n(l,{key:1,class:"interactive-btm-center"},{default:v((()=>[c(r(G.value<=0?O.value.name:G.value),1)])),_:1})):f("",!0),E.value&&G.value<=0?(u(),n(l,{key:2,class:"interactive-btm-right",onClick:S},{default:v((()=>[i(t,{src:j,mode:""}),i(s,null,{default:v((()=>[c("下一题("+r(H.value)+")",1)])),_:1})])),_:1})):f("",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-540082e2"]]);export{T as default};
