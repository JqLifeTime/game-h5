import{d as a,r as l,N as e,b as o,p as s,f as t,w as u,e as c,m as i,t as n,B as d,F as v,q as r,s as p,D as m,x as f,g as T,y as _,i as g,_ as w}from"./index-62c93e24.js";import{a as O}from"./index.03574bd1.js";import{a as h}from"./uni-app.es.ba5b2566.js";const k=w(a({__name:"project-what-todo-play",setup(a){const w=l(null),k=l([]),y=l([]),x=l(0),b=l(null),j=l(!1);function F(){var a,l,e,o,s,t,u;k.value=[],(null==(l=null==(a=w.value)?void 0:a.cardTopic)?void 0:l.cardOptionsList)&&(null==(o=null==(e=w.value)?void 0:e.cardTopic)?void 0:o.cardOptionsList.length)&&(k.value=k.value.concat(O(w.value.cardTopic.cardOptionsList,1))),(null==(s=w.value)?void 0:s.cardOptionsTwo)&&(null==(u=null==(t=w.value)?void 0:t.cardOptionsTwo)?void 0:u.length)&&(k.value=k.value.concat(O(w.value.cardOptionsTwo,1))),console.log("currentDoOptions",k.value)}function L(){j.value=!1,x.value<w.value.cardOptionsTwo.length-1?(x.value+=1,F()):(p({title:"恭喜您全部完成啦~",mask:!0}),setTimeout((()=>{m({url:"/pages/game-pass/game-pass"})}),1e3))}return h((a=>{var l;b.value=1*a.id,l=a.id,e(l).then((a=>{var l,e;200==a.code&&(w.value=a.data,y.value=(null==(e=null==(l=w.value)?void 0:l.cardTopic)?void 0:e.material)?w.value.cardTopic.material.split(","):[],F())}))})),(a,l)=>{const e=f,m=T,O=g,h=_("TipsSuccess");return o(),s(v,null,[t(m,{class:"box"},{default:u((()=>[t(m,{class:"todo"},{default:u((()=>[t(m,{class:"todo-title"},{default:u((()=>[w.value&&w.value.cardTopic&&w.value.cardTopic.name?(o(),c(e,{key:0},{default:u((()=>[i(n(w.value.cardTopic.name),1)])),_:1})):d("",!0),i("怎么办 ")])),_:1}),t(m,{class:"todo-top"},{default:u((()=>[(o(),s(v,null,r(3,(a=>t(m,{class:"todo-top-item",key:a},{default:u((()=>[t(O,{src:y.value[x.value],mode:"aspectFit"},null,8,["src"])])),_:2},1024))),64))])),_:1}),w.value?(o(),c(m,{key:0,class:"todo-num"},{default:u((()=>[i(" 第"+n(x.value+1)+"题，共"+n(w.value.cardOptionsTwo.length)+"题 ",1)])),_:1})):d("",!0),t(m,{class:"todo-btm"},{default:u((()=>[(o(!0),s(v,null,r(k.value,(a=>(o(),c(m,{class:"todo-btm-box",key:a.id,onClick:l=>function(a){a.topicId==b.value?(console.log("选对"),uni.audioTipsSuccess.play(),j.value=!0):(uni.audioTipsError.play(),p({title:"这个不对，再看看吧~",mask:!0,icon:"none"}))}(a)},{default:u((()=>[t(O,{src:a.substance,mode:"aspectFit"},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),t(h,{show:j.value,onNext:L},null,8,["show"])],64)}}}),[["__scopeId","data-v-e3d4694f"]]);export{k as default};
