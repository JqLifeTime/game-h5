import{d as s,r as a,k as l,R as e,S as t,T as i,b as o,p as n,f as u,w as c,u as p,e as r,m as d,F as m,q as g,B as y,t as f,g as b,y as v,n as h,L as k,s as _,D as L,i as O,_ as w}from"./index-62c93e24.js";import{a as x}from"./uni-app.es.ba5b2566.js";import{g as j}from"./index.03574bd1.js";var $=(s=>(s[s.A=0]="A",s[s.B=1]="B",s[s.C=2]="C",s[s.D=3]="D",s))($||{});const T=w(s({__name:"project-problem",setup(s){let w=null;const T=a([]),C=a(0),E=l((()=>T.value.length&&T.value[C.value])),P=a(!1),S=a(-1),B=a(3),D=a(!1);function F(){B.value=3,i((()=>{setTimeout((()=>{P.value=!0,w=setInterval((()=>{if(1===B.value)return clearInterval(w),P.value=!1,E.value.isPlaying=!0,void(S.value=j(E.value.cardOptionsList,!0));B.value--}),1e3)}),2*E.value.cardOptionsList.length*1e3+2e3)}))}function I(){D.value=!1,C.value+=1}return e((()=>C.value),(s=>{s&&F()})),x((s=>{var a;a=s.id,t(a).then((s=>{200==s.code&&(T.value=s.data,T.value.forEach((s=>{s.originalOptionsList=s.cardOptionsList.slice(),s.cardOptionsList=function(s,a){let l=[];return a.split("").forEach((a=>{l.push(s[$[a]])})),l}(s.cardOptionsList,s.name.trim()),s.isPlaying=!1})),F())}))})),(s,a)=>{const l=b,e=O,t=v("TipsSuccess");return o(),n(m,null,[u(l,{class:"box"},{default:c((()=>[u(l,{class:"box-cen"},{default:c((()=>[p(E)&&!p(E).isPlaying?(o(),r(l,{key:0,class:"problem"},{default:c((()=>[u(l,{class:"problem-top"},{default:c((()=>[u(l,{class:"problem-top-title"},{default:c((()=>[d(" 第一次 ")])),_:1}),p(E)?(o(),r(l,{key:0,class:"problem-top-box"},{default:c((()=>[(o(!0),n(m,null,g(p(E).cardOptionsList,((s,a)=>(o(),r(l,{class:h(["problem-top-box-item",`trans${a}`]),style:k({width:8==p(E).cardOptionsList.length?"9vw":"",height:8==p(E).cardOptionsList.length?"9vw":""}),key:`t${s.id}`},{default:c((()=>[u(l,{class:"img-front",style:k(`background-image: url('${s.substance}');`)},null,8,["style"]),u(l,{class:"img-back",style:{"background-image":"url('https://offline-report.oss-cn-beijing.aliyuncs.com/game-mp/problem-default.jpg')"}})])),_:2},1032,["style","class"])))),128))])),_:1})):y("",!0)])),_:1}),u(l,{class:"problem-line"}),u(l,{class:"problem-top"},{default:c((()=>[u(l,{class:"problem-top-title"},{default:c((()=>[d(" 第二次 ")])),_:1}),p(E)?(o(),r(l,{key:0,class:"problem-top-box"},{default:c((()=>[(o(!0),n(m,null,g(p(E).cardOptionsList,((s,a)=>(o(),r(l,{class:h(["problem-top-box-item",`trans${p(E).cardOptionsList.length+a}`]),style:k({width:8==p(E).cardOptionsList.length?"9vw":"",height:8==p(E).cardOptionsList.length?"9vw":""}),key:`b${s.id}`},{default:c((()=>[u(l,{class:"img-front",style:k(`background-image: url('${s.substance}');`)},null,8,["style"]),u(l,{class:"img-back",style:{"background-image":"url('https://offline-report.oss-cn-beijing.aliyuncs.com/game-mp/problem-default.jpg')"}})])),_:2},1032,["class","style"])))),128))])),_:1})):y("",!0)])),_:1})])),_:1})):y("",!0),p(E)&&p(E).isPlaying?(o(),r(l,{key:1,class:"play"},{default:c((()=>[u(l,{class:"play-top"},{default:c((()=>[p(E)?(o(),r(l,{key:0,class:"play-top-box"},{default:c((()=>[(o(!0),n(m,null,g(p(E).cardOptionsList,((s,a)=>(o(),r(l,{class:"play-top-box-item",style:k({width:8==p(E).cardOptionsList.length?"9vw":"",height:8==p(E).cardOptionsList.length?"9vw":""}),key:`t${s.id}`},{default:c((()=>[a!==S.value?(o(),r(l,{key:0,class:"img-front",style:k(`background-image: url('${s.substance}');`)},null,8,["style"])):(o(),r(l,{key:1,class:"img-back",style:{"background-image":"url('https://offline-report.oss-cn-beijing.aliyuncs.com/game-mp/problem-default.jpg')"}}))])),_:2},1032,["style"])))),128))])),_:1})):y("",!0),u(l,{class:"play-top-tips"},{default:c((()=>[d(" 请观察规律候，点击下方图片选择问号位置应该出现的图片 ")])),_:1})])),_:1}),u(l,{class:"play-btm"},{default:c((()=>[(o(!0),n(m,null,g(p(E).originalOptionsList,(s=>(o(),r(l,{class:"play-btm-img",key:s.id,onClick:a=>function(s){s.id===E.value.cardOptionsList[S.value].id?C.value<T.value.length-1?(uni.audioTipsSuccess.play(),D.value=!0):(uni.audioTipsSuccess.play(),_({title:"恭喜您，已全部完成~"}),setTimeout((()=>{L({url:"/pages/game-pass/game-pass"})}),1e3)):(uni.audioTipsError.play(),_({title:"这个不对~",mask:!0,icon:"none"}))}(s)},{default:c((()=>[u(e,{src:s.substance,mode:"aspectFit"},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):y("",!0)])),_:1})])),_:1}),P.value?(o(),r(l,{key:0,class:"count-down"},{default:c((()=>[d(f(B.value),1)])),_:1})):y("",!0),u(t,{show:D.value,onNext:I},null,8,["show"])],64)}}}),[["__scopeId","data-v-d95add9d"]]);export{T as default};
