import{d as s,r as a,k as e,Q as t,a as l,b as u,p as i,f as o,w as n,m as c,u as d,F as r,q as p,t as v,e as m,B as f,G as g,H as h,L as _,s as y,D as L,g as b,i as O,y as T,_ as k}from"./index-62c93e24.js";import{s as x,t as E}from"./index.03574bd1.js";import{a as F}from"./uni-app.es.ba5b2566.js";const X=k(s({__name:"project-same-pairing",setup(s){const k=a(0),X=a(0),Y=a(!1),j=a([]),w=a(0),S=a(0),$=a(!1),q=e((()=>j.value.length?j.value[w.value]:null)),B=a([]);function C(s){Y.value=!0,D(s)}function D(s){const a=s.touches[0];k.value=a.clientX-42,X.value=a.clientY-42}F((s=>{var a;a=s.id,t(a).then((s=>{200==s.code&&(j.value=s.data,j.value.forEach((s=>{s.originOtionsList=s.cardOptionsList.slice(),s.cardOptionsList=x(s.cardOptionsList)})),setTimeout((()=>{j.value[0].cardOptionsList.forEach(((s,a)=>{l().select(`#btm${a}`).boundingClientRect((s=>{B.value.push({startX:s.left-42,startY:s.top-42,endX:s.left-42+120,endY:s.top-42+120})})).exec()}))}),500),console.log(j.value))}))}));let G=E((function(s){D(s)}),24);function H(){Y.value=!1;let s=-1;B.value.forEach(((a,e)=>{k.value>=a.startX&&k.value<=a.endX&&X.value>=a.startY&&X.value<=a.endY&&(s=e)})),-1===s?(uni.audioTipsError.play(),y({title:"这个不对~",mask:!0,icon:"none"})):q.value.cardOptionsList[s].id===q.value.originOtionsList[S.value].id?S.value<q.value.cardOptionsList.length-1?(S.value++,uni.audioTipsSuccess.play(),y({title:"恭喜放对啦~",mask:!0})):w.value<j.value.length-1?(uni.audioTipsSuccess.play(),$.value=!0):(y({title:"恭喜您全部完成啦~",mask:!0}),setTimeout((()=>{L({url:"/pages/game-pass/game-pass"})}),1e3)):(uni.audioTipsError.play(),y({title:"这个不对~",mask:!0,icon:"none"}))}function I(){$.value=!1,S.value=0,w.value+=1}return(s,a)=>{const e=b,t=O,l=T("TipsSuccess");return u(),i(r,null,[o(e,{class:"box"},{default:n((()=>[o(e,{class:"same"},{default:n((()=>[o(e,{class:"same-top"},{default:n((()=>[o(e,{class:"same-top-title"},{default:n((()=>[c(" 相同的放在一起 ")])),_:1}),o(e,{class:"same-top-img",onTouchstart:C,onTouchmove:d(G),onTouchend:H},{default:n((()=>[(u(),i(r,null,p(3,(s=>o(e,{class:"same-top-img-item",key:s},{default:n((()=>[d(q)?(u(),m(t,{key:0,src:d(q).originOtionsList[S.value].substance,mode:"aspectFit"},null,8,["src"])):f("",!0)])),_:2},1024))),64))])),_:1},8,["onTouchmove"]),o(e,{class:"same-top-desc"},{default:n((()=>[c(" 将图片拖动到下方正确位置 ")])),_:1}),o(e,{class:"same-top-idx"},{default:n((()=>[c(" 第"+v(w.value+1)+"题,共"+v(j.value.length)+"题 ",1)])),_:1})])),_:1}),d(q)?(u(),m(e,{key:0,class:"same-btm"},{default:n((()=>[(u(!0),i(r,null,p(d(q).cardOptionsList,((s,a)=>(u(),m(e,{class:"same-btm-item",id:`btm${a}`,key:s.id},{default:n((()=>[o(t,{src:s.substance,mode:"aspectFit"},null,8,["src"])])),_:2},1032,["id"])))),128))])),_:1})):f("",!0),g(o(e,{class:"box-position",style:_({left:k.value+"px",top:X.value+"px"})},{default:n((()=>[d(q)?(u(),m(t,{key:0,src:d(q).originOtionsList[S.value].substance,mode:"aspectFit"},null,8,["src"])):f("",!0)])),_:1},8,["style"]),[[h,Y.value]])])),_:1})])),_:1}),o(l,{show:$.value,onNext:I},null,8,["show"])],64)}}}),[["__scopeId","data-v-e60ee113"]]);export{X as default};
