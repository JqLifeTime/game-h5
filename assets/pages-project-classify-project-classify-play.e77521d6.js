import{d as e,r as a,M as s,J as t,b as l,i as u,f as o,w as n,g as i,F as c,j as d,e as v,x as r,t as p,C as m,D as f,I as h,l as y,k as T,p as g,h as _,v as b,A as x,_ as k}from"./index-dca1e3db.js";import{g as I,a as X,t as Y}from"./index.03574bd1.js";import{a as j}from"./uni-app.es.952829a2.js";const S=k(e({__name:"project-classify-play",setup(e){const k=a(0),S=a(0),E=a(1),w=a(null),C=a(null),O=a([]),F=a(!1),J=a(null),L=a([]),N=a(!1),R=a("");function A(e,a,s){J.value=a,F.value=!0,D(e)}function D(e){const a=e.touches[0];k.value=a.clientX-42,S.value=a.clientY-42}j((e=>{var a;a=JSON.parse(e.ids),s(a).then((e=>{if(200==e.code){const a=e.data[0].cardOptionsList,s=e.data[1].cardOptionsList;w.value=I(a),C.value=I(s),function(e){let a=e.length>=6?6:e.length,s=X(e,a);O.value=s.slice(0,a)}([...a,...s]),setTimeout((()=>{t().select("#boxId1").boundingClientRect((e=>{L.value.push({startX:e.left-42,startY:e.top-42,endX:e.left-42+130,endY:e.top-42+130})})).exec(),t().select("#boxId2").boundingClientRect((e=>{L.value.push({startX:e.left-42,startY:e.top-42,endX:e.left-42+130,endY:e.top-42+130})})).exec()}),500)}}))}));let G=Y((function(e){D(e)}),24);function M(){F.value=!1;let e=-1;L.value.forEach(((a,s)=>{k.value>=a.startX&&k.value<=a.endX&&S.value>=a.startY&&S.value<=a.endY&&(e=s)})),-1===e?(uni.audioTipsError.play(),b({title:"很遗憾,不正确噢!",mask:!0,icon:"none"})):0==e&&w.value.topicId==J.value.topicId?6==E.value?(uni.audioTipsSuccess.play(),b({title:"恭喜你,完成了~",mask:!0}),setTimeout((()=>{x({url:"/pages/game-pass/game-pass"})}),1e3)):(uni.audioTipsSuccess.play(),N.value=!0,R.value="left"):1==e&&C.value.topicId==J.value.topicId?6==E.value?(b({title:"恭喜你,完成了~",mask:!0}),setTimeout((()=>{x({url:"/pages/game-pass/game-pass"})}),1e3)):(uni.audioTipsSuccess.play(),N.value=!0,R.value="right"):(uni.audioTipsError.play(),b({title:"很遗憾,不正确噢!",mask:!0,icon:"none"}))}function q(){N.value=!1,"left"===R.value?(w.value=J.value,E.value++):"right"===R.value&&(E.value++,C.value=J.value)}return(e,a)=>{const s=y,t=T,b=g("TipsSuccess");return l(),u(c,null,[o(s,{class:"box"},{default:n((()=>[o(s,{class:"identifying"},{default:n((()=>[o(s,{class:"identity-title"},{default:n((()=>[i(" 同类的放一起 ")])),_:1}),o(s,{class:"identity-imgs"},{default:n((()=>[(l(!0),u(c,null,d(O.value,((e,a)=>(l(),u(c,{key:e.id},[a+1==E.value?(l(),v(s,{key:0,class:"identity-imgs-item",onTouchstart:a=>A(a,e),onTouchmove:_(G),onTouchend:M},{default:n((()=>[o(t,{src:e.substance,mode:""},null,8,["src"])])),_:2},1032,["onTouchstart","onTouchmove"])):r("",!0),a+1==E.value?(l(),v(s,{key:1,class:"identity-imgs-item",onTouchstart:a=>A(a,e),onTouchmove:_(G),onTouchend:M},{default:n((()=>[o(t,{src:e.substance,mode:""},null,8,["src"])])),_:2},1032,["onTouchstart","onTouchmove"])):r("",!0),a+1==E.value?(l(),v(s,{key:2,class:"identity-imgs-item",onTouchstart:a=>A(a,e),onTouchmove:_(G),onTouchend:M},{default:n((()=>[o(t,{src:e.substance,mode:""},null,8,["src"])])),_:2},1032,["onTouchstart","onTouchmove"])):r("",!0)],64)))),128))])),_:1}),E.value>6?(l(),v(s,{key:0,class:"identity-imgs"},{default:n((()=>[o(s,{class:"identity-imgs-item"},{default:n((()=>[o(t,{src:O.value[5].substance,mode:""},null,8,["src"])])),_:1})])),_:1})):r("",!0),o(s,{class:"identity-desc"},{default:n((()=>[i(" 将图片拖动到下方正确位置 ")])),_:1}),o(s,{class:"identity-idx"},{default:n((()=>[i(" 第"+p(E.value)+"题,共6题 ",1)])),_:1}),o(s,{class:"foot"},{default:n((()=>[o(s,{class:"foot-1",id:"boxId1"},{default:n((()=>[o(t,{src:w.value.substance,mode:""},null,8,["src"])])),_:1}),o(s,{class:"foot-1",id:"boxId2"},{default:n((()=>[o(t,{src:C.value.substance,mode:""},null,8,["src"])])),_:1})])),_:1}),m(o(s,{class:"box-position",style:h({left:k.value+"px",top:S.value+"px"})},{default:n((()=>[J.value?(l(),v(t,{key:0,src:J.value.substance,mode:"aspectFit"},null,8,["src"])):r("",!0)])),_:1},8,["style"]),[[f,F.value]])])),_:1})])),_:1}),o(b,{show:N.value,onNext:q},null,8,["show"])],64)}}}),[["__scopeId","data-v-0b11e477"]]);export{S as default};
