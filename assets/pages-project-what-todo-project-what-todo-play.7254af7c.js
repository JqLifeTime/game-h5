import{d as a,r as l,L as e,b as o,i as s,f as t,w as u,e as c,g as i,t as n,x as d,F as v,j as r,v as p,A as m,m as f,l as T,p as _,k as g,_ as k}from"./index-be39c4e6.js";import{a as w}from"./index.03574bd1.js";import{a as O}from"./uni-app.es.b913e102.js";const h=k(a({__name:"project-what-todo-play",setup(a){const k=l(null),h=l([]),x=l([]),y=l(0),b=l(null),j=l(!1);function L(){var a,l,e,o,s,t,u;h.value=[],(null==(l=null==(a=k.value)?void 0:a.cardTopic)?void 0:l.cardOptionsList)&&(null==(o=null==(e=k.value)?void 0:e.cardTopic)?void 0:o.cardOptionsList.length)&&(h.value=h.value.concat(w(k.value.cardTopic.cardOptionsList,1))),(null==(s=k.value)?void 0:s.cardOptionsTwo)&&(null==(u=null==(t=k.value)?void 0:t.cardOptionsTwo)?void 0:u.length)&&(h.value=h.value.concat(w(k.value.cardOptionsTwo,1))),console.log("currentDoOptions",h.value)}function F(){j.value=!1,y.value<k.value.cardOptionsTwo.length-1?(y.value+=1,L()):(p({title:"恭喜您全部完成啦~",mask:!0}),setTimeout((()=>{m({url:"/pages/game-pass/game-pass"})}),1e3))}return O((a=>{var l;b.value=1*a.id,l=a.id,e(l).then((a=>{var l,e;200==a.code&&(k.value=a.data,x.value=(null==(e=null==(l=k.value)?void 0:l.cardTopic)?void 0:e.material)?k.value.cardTopic.material.split(","):[],L())}))})),(a,l)=>{const e=f,m=T,w=g,O=_("TipsSuccess");return o(),s(v,null,[t(m,{class:"box"},{default:u((()=>[t(m,{class:"todo"},{default:u((()=>[t(m,{class:"todo-title"},{default:u((()=>[k.value&&k.value.cardTopic&&k.value.cardTopic.name?(o(),c(e,{key:0},{default:u((()=>[i(n(k.value.cardTopic.name),1)])),_:1})):d("",!0),i("怎么办 ")])),_:1}),t(m,{class:"todo-top"},{default:u((()=>[(o(),s(v,null,r(3,(a=>t(m,{class:"todo-top-item",key:a},{default:u((()=>[t(w,{src:x.value[y.value],mode:"aspectFit"},null,8,["src"])])),_:2},1024))),64))])),_:1}),k.value?(o(),c(m,{key:0,class:"todo-num"},{default:u((()=>[i(" 第"+n(y.value+1)+"题，共"+n(k.value.cardOptionsTwo.length)+"题 ",1)])),_:1})):d("",!0),t(m,{class:"todo-btm"},{default:u((()=>[(o(!0),s(v,null,r(h.value,(a=>(o(),c(m,{class:"todo-btm-box",key:a.id,onClick:l=>function(a){a.topicId==b.value?(console.log("选对"),uni.audioTipsSuccess.play(),j.value=!0):(uni.audioTipsError.play(),p({title:"这个不对，再看看吧~",mask:!0,icon:"none"}))}(a)},{default:u((()=>[t(w,{src:a.substance,mode:"aspectFit"},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1}),t(O,{show:j.value,onNext:F},null,8,["show"])],64)}}}),[["__scopeId","data-v-e3d4694f"]]);export{h as default};
