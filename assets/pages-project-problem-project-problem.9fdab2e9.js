import{d as s,r as a,c as l,P as e,Q as t,R as i,b as o,i as n,f as u,w as c,h as p,e as r,g as d,F as m,j as g,x as y,t as f,l as b,p as v,z as h,I as k,v as _,A as L,k as O,_ as w}from"./index-bd0a08d3.js";import{a as x}from"./uni-app.es.90b7652b.js";import{g as j}from"./index.03574bd1.js";var $=(s=>(s[s.A=0]="A",s[s.B=1]="B",s[s.C=2]="C",s[s.D=3]="D",s))($||{});const T=w(s({__name:"project-problem",setup(s){let w=null;const T=a([]),P=a(0),C=l((()=>T.value.length&&T.value[P.value])),E=a(!1),I=a(-1),A=a(3),S=a(!1);function B(){A.value=3,i((()=>{setTimeout((()=>{E.value=!0,w=setInterval((()=>{if(1===A.value)return clearInterval(w),E.value=!1,C.value.isPlaying=!0,void(I.value=j(C.value.cardOptionsList,!0));A.value--}),1e3)}),2*C.value.cardOptionsList.length*1e3+2e3)}))}function D(){S.value=!1,P.value+=1}return e((()=>P.value),(s=>{s&&B()})),x((s=>{var a;a=s.id,t(a).then((s=>{200==s.code&&(T.value=s.data,T.value.forEach((s=>{s.originalOptionsList=s.cardOptionsList.slice(),s.cardOptionsList=function(s,a){let l=[];return a.split("").forEach((a=>{l.push(s[$[a]])})),l}(s.cardOptionsList,s.name.trim()),s.isPlaying=!1})),B())}))})),(s,a)=>{const l=b,e=O,t=v("TipsSuccess");return o(),n(m,null,[u(l,{class:"box"},{default:c((()=>[u(l,{class:"box-cen"},{default:c((()=>[p(C)&&!p(C).isPlaying?(o(),r(l,{key:0,class:"problem"},{default:c((()=>[u(l,{class:"problem-top"},{default:c((()=>[u(l,{class:"problem-top-title"},{default:c((()=>[d(" 第一次 ")])),_:1}),p(C)?(o(),r(l,{key:0,class:"problem-top-box"},{default:c((()=>[(o(!0),n(m,null,g(p(C).cardOptionsList,((s,a)=>(o(),r(l,{class:h(["problem-top-box-item",`trans${a}`]),style:k({width:8==p(C).cardOptionsList.length?"9vw":"",height:8==p(C).cardOptionsList.length?"9vw":""}),key:`t${s.id}`},{default:c((()=>[u(l,{class:"img-front",style:k(`background-image: url('${s.substance}');`)},null,8,["style"]),u(l,{class:"img-back",style:{"background-image":"url('https://offline-report.oss-cn-beijing.aliyuncs.com/game-mp/problem-default.jpg')"}})])),_:2},1032,["style","class"])))),128))])),_:1})):y("",!0)])),_:1}),u(l,{class:"problem-line"}),u(l,{class:"problem-top"},{default:c((()=>[u(l,{class:"problem-top-title"},{default:c((()=>[d(" 第二次 ")])),_:1}),p(C)?(o(),r(l,{key:0,class:"problem-top-box"},{default:c((()=>[(o(!0),n(m,null,g(p(C).cardOptionsList,((s,a)=>(o(),r(l,{class:h(["problem-top-box-item",`trans${p(C).cardOptionsList.length+a}`]),style:k({width:8==p(C).cardOptionsList.length?"9vw":"",height:8==p(C).cardOptionsList.length?"9vw":""}),key:`b${s.id}`},{default:c((()=>[u(l,{class:"img-front",style:k(`background-image: url('${s.substance}');`)},null,8,["style"]),u(l,{class:"img-back",style:{"background-image":"url('https://offline-report.oss-cn-beijing.aliyuncs.com/game-mp/problem-default.jpg')"}})])),_:2},1032,["class","style"])))),128))])),_:1})):y("",!0)])),_:1})])),_:1})):y("",!0),p(C)&&p(C).isPlaying?(o(),r(l,{key:1,class:"play"},{default:c((()=>[u(l,{class:"play-top"},{default:c((()=>[p(C)?(o(),r(l,{key:0,class:"play-top-box"},{default:c((()=>[(o(!0),n(m,null,g(p(C).cardOptionsList,((s,a)=>(o(),r(l,{class:"play-top-box-item",style:k({width:8==p(C).cardOptionsList.length?"9vw":"",height:8==p(C).cardOptionsList.length?"9vw":""}),key:`t${s.id}`},{default:c((()=>[a!==I.value?(o(),r(l,{key:0,class:"img-front",style:k(`background-image: url('${s.substance}');`)},null,8,["style"])):(o(),r(l,{key:1,class:"img-back",style:{"background-image":"url('https://offline-report.oss-cn-beijing.aliyuncs.com/game-mp/problem-default.jpg')"}}))])),_:2},1032,["style"])))),128))])),_:1})):y("",!0),u(l,{class:"play-top-tips"},{default:c((()=>[d(" 请观察规律候，点击下方图片选择问号位置应该出现的图片 ")])),_:1})])),_:1}),u(l,{class:"play-btm"},{default:c((()=>[(o(!0),n(m,null,g(p(C).originalOptionsList,(s=>(o(),r(l,{class:"play-btm-img",key:s.id,onClick:a=>function(s){s.id===C.value.cardOptionsList[I.value].id?P.value<T.value.length-1?(uni.audioTipsSuccess.play(),S.value=!0):(uni.audioTipsSuccess.play(),_({title:"恭喜您，已全部完成~"}),setTimeout((()=>{L({url:"/pages/game-pass/game-pass"})}),1e3)):(uni.audioTipsError.play(),_({title:"这个不对~",mask:!0,icon:"none"}))}(s)},{default:c((()=>[u(e,{src:s.substance,mode:"aspectFit"},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):y("",!0)])),_:1})])),_:1}),E.value?(o(),r(l,{key:0,class:"count-down"},{default:c((()=>[d(f(A.value),1)])),_:1})):y("",!0),u(t,{show:S.value,onNext:D},null,8,["show"])],64)}}}),[["__scopeId","data-v-d95add9d"]]);export{T as default};
