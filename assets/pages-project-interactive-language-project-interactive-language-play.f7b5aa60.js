import{d as e,r as a,a7 as l,s as t,D as s,b as u,e as n,w as i,f as v,m as c,t as r,p as o,q as d,F as m,B as f,g as p,i as _,x as g,_ as b}from"./index-62c93e24.js";import{_ as k,a as x}from"./next.2ad967e6.js";import{g as y}from"./index.03574bd1.js";import{a as j,b as I}from"./uni-app.es.ba5b2566.js";const F=b(e({__name:"project-interactive-language-play",setup(e){let b=null,F=null,T=null;const h=a([]),C=a(null),O=a(null),q=a(1),w=a(10),B=a(!1),D=a(5),E=a(10),H=a(["这是哪里？","图片上是哪里？","你看到的是哪里？"]);function J(){O.value=y(h.value),C.value=y(O.value.cardOptionsList),L()}function L(){S(),D.value=5,E.value=10,B.value=!1,T=setTimeout((()=>{B.value=!0,b=setInterval((()=>{if(D.value<=0)return S(),void(F=setInterval((()=>{if(E.value<=0)return S(),void N();E.value--}),1e3));D.value--}),1e3)}),3e3)}function N(){S(),q.value<w.value?(q.value+=1,J()):(console.log(q.value,w.value),t({title:"恭喜您全部完成~"}),setTimeout((()=>{s({url:"/pages/game-pass/game-pass"})}),1e3))}function S(){clearInterval(b),b=null,clearInterval(F),F=null,clearTimeout(T),T=null}return j((e=>{var a;a=JSON.parse(e.ids),l(a).then((e=>{console.log(e),200==e.code&&(h.value=e.data,J())}))})),I((()=>{console.log("onUnload"),S()})),(e,a)=>{const l=p,t=_,s=g;return u(),n(l,{class:"box"},{default:i((()=>[v(l,{class:"interactive"},{default:i((()=>[v(l,{class:"interactive-title"},{default:i((()=>[c(r(H.value[q.value%3]),1)])),_:1}),C.value?(u(),n(l,{key:0,class:"interactive-img"},{default:i((()=>[(u(),o(m,null,d(3,(e=>v(l,{class:"interactive-img-item",key:e},{default:i((()=>[v(t,{src:C.value.substance,mode:"aspectFit"},null,8,["src"])])),_:2},1024))),64))])),_:1})):f("",!0),v(l,{class:"interactive-num"},{default:i((()=>[c(" 第"+r(q.value)+"题，共"+r(w.value)+"题 ",1)])),_:1}),v(l,{class:"interactive-btm"},{default:i((()=>[B.value&&D.value<=0?(u(),n(l,{key:0,class:"interactive-btm-left",onClick:L},{default:i((()=>[v(t,{src:k,mode:""}),v(s,null,{default:i((()=>[c("重播")])),_:1})])),_:1})):f("",!0),B.value?(u(),n(l,{key:1,class:"interactive-btm-center"},{default:i((()=>[c(r(D.value<=0?O.value.name:D.value),1)])),_:1})):f("",!0),B.value&&D.value<=0?(u(),n(l,{key:2,class:"interactive-btm-right",onClick:N},{default:i((()=>[v(t,{src:x,mode:""}),v(s,null,{default:i((()=>[c("下一题("+r(E.value)+")",1)])),_:1})])),_:1})):f("",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-540082e2"]]);export{F as default};
